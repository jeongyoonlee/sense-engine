#!/usr/bin/env node
var optimist = require('optimist');

var argv = optimist.
  usage("Usage: repl module [options]").
  alias('p', 'pretty').
  alias('s', 'startupScript').
  describe('p', 'Format output to make repl pleasant to use, as opposed to a good debugging tool.').
  describe('s', 'A file to source before taking input from the user.').
  demand(1).
  argv;

var path = require('path');
require('../lib').repl(
  require(path.join(process.cwd(), argv._[0])).createDashboard, 
  argv.startupScript, 
  {pretty: argv.hasOwnProperty('pretty')}
);